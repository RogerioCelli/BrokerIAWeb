<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Governança & Orquestração | Broker IA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            background-color: #050a10;
            display: block;
            padding: 2rem;
            align-items: flex-start;
        }

        .admin-grid {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
            margin-top: 2rem;
        }

        .admin-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.05) 100%);
            border: 1px solid rgba(16, 185, 129, 0.2);
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            color: #10b981;
            display: block;
        }

        .stat-label {
            color: #94a3b8;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .live-feed {
            height: 500px;
            overflow-y: auto;
            padding-right: 1rem;
        }

        .feed-item {
            padding: 1rem;
            border-left: 2px solid #10b981;
            background: rgba(255, 255, 255, 0.02);
            margin-bottom: 1rem;
            border-radius: 0 8px 8px 0;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .feed-time {
            font-size: 0.75rem;
            color: #10b981;
            font-weight: 600;
        }

        .feed-msg {
            display: block;
            margin-top: 0.3rem;
            font-size: 0.9rem;
        }

        .agent-badge {
            font-size: 0.65rem;
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
            padding: 2px 6px;
            border-radius: 4px;
            margin-left: 0.5rem;
        }

        .table-container {
            width: 100%;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            color: #e2e8f0;
        }

        th {
            text-align: left;
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: #94a3b8;
            font-size: 0.85rem;
        }

        td {
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .header-admin {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
    </style>
</head>

<body>
    <div class="header-admin">
        <div>
            <h1 style="font-family: 'Outfit'; font-size: 2rem;">Painel de Governança</h1>
            <p style="color: #94a3b8;">Monitoramento em Tempo Real de Agentes IA</p>
        </div>
        <a href="dashboard.html" class="btn-login" style="width: auto; padding: 0.8rem 1.5rem; text-decoration: none;">
            <i class="fas fa-arrow-left"></i> Voltar ao Portal
        </a>
    </div>

    <div class="stat-grid">
        <div class="stat-card">
            <span class="stat-value">124</span>
            <span class="stat-label">Interações IA (24h)</span>
        </div>
        <div class="stat-card">
            <span class="stat-value">98.2%</span>
            <span class="stat-label">Precisão dos Agentes</span>
        </div>
        <div class="stat-card">
            <span class="stat-value">14</span>
            <span class="stat-label">Apólices Ativas</span>
        </div>
        <div class="stat-card" style="border-color: #3b82f6;">
            <span class="stat-value" style="color: #3b82f6;">02</span>
            <span class="stat-label">Intervenções Humanas</span>
        </div>
    </div>

    <div class="admin-grid">
        <div class="admin-card">
            <h3 style="margin-bottom: 1.5rem;"><i class="fas fa-users"></i> Últimos Clientes Atendidos</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Cliente</th>
                            <th>Última Pergunta</th>
                            <th>Agente Responsável</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Rogerio Celli</td>
                            <td>"Qual o vencimento da apólice?"</td>
                            <td><span class="agent-badge">Agente de Busca</span></td>
                            <td><span style="color: #10b981;"><i class="fas fa-circle" style="font-size: 0.6rem;"></i>
                                    Resolvido</span></td>
                        </tr>
                        <tr>
                            <td>Maria Silva</td>
                            <td>"Como acionar o guincho?"</td>
                            <td><span class="agent-badge">Agente de Assistência</span></td>
                            <td><span style="color: #fbbf24;"><i class="fas fa-circle" style="font-size: 0.6rem;"></i>
                                    Em progresso</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="admin-card">
            <h3 style="margin-bottom: 1.5rem;"><i class="fas fa-satellite-dish"></i> Live Agent Feed</h3>
            <div class="live-feed" id="liveFeed">
                <div class="feed-item">
                    <span class="feed-time">17:42:05</span>
                    <span class="feed-msg">Agente de Busca localizou apólice para cliente: 123.456.XXX-XX</span>
                </div>
                <div class="feed-item">
                    <span class="feed-time">17:41:50</span>
                    <span class="feed-msg">Agente de Análise validou cobertura residencial Liberty.</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Simulação de Feed em tempo real focado em chamados reais
        const feed = document.getElementById('liveFeed');
        const tasks = [
            "Agente de Suporte informou telefone 0800 da Porto Seguro.",
            "Agente de Documentos enviou link da carteirinha digital.",
            "Agente de Sinistro orientou cliente sobre B.O. em batida.",
            "Agente de Busca localizou número da apólice AP-2026.",
            "Agente de Vendas gerando cotação de Renovação Automática...",
            "Cliente enviou Foto de Vistoria (Salvo em: /upload_cliente/123.456.../)",
            "Agente de Suporte explicou cobertura de Vidros e Granizo."
        ];

        setInterval(() => {
            const time = new Date().toLocaleTimeString('pt-BR');
            const msg = tasks[Math.floor(Math.random() * tasks.length)];
            const div = document.createElement('div');
            div.className = 'feed-item';
            div.innerHTML = `
                <span class="feed-time">${time}</span>
                <span class="feed-msg">${msg}</span>
            `;
            feed.prepend(div);
            if (feed.children.length > 10) feed.lastChild.remove();
        }, 5000);
    </script>
</body>

</html>